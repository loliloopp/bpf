<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест масштабирования ProjectCardModal</title>
</head>
<body>
    <h1>Тест изменений масштабирования в ProjectCardModal</h1>

    <h2>Внесенные изменения:</h2>
    <ol>
        <li><strong>Стандартная высота строки:</strong> Изменена с 20px на 12px для режима без масштабирования</li>
        <li><strong>Улучшенный расчет доступной высоты:</strong>
            <ul>
                <li>Теперь учитывается реальная высота viewport</li>
                <li>Вычитаются все элементы интерфейса: заголовок модала, управляющие элементы, кнопки</li>
                <li>Формула: availableHeight = viewportHeight - modalPadding(120px) - controlsHeight(180px) - headerHeight(40px)</li>
            </ul>
        </li>
        <li><strong>Исправлен контейнер таблицы:</strong> overflow: 'hidden' вместо 'auto' для предотвращения двойной прокрутки</li>
        <li><strong>Фиксированная высота модального окна:</strong> Убрана динамическая высота, оставлена 'calc(100vh - 40px)'</li>
        <li><strong>Убрана y-прокрутка из Table:</strong> Таблица теперь растягивается на всю доступную высоту</li>
        <li><strong>Улучшены стили масштабирования:</strong>
            <ul>
                <li>Более точные размеры шрифтов</li>
                <li>Правильные настройки overflow для всех элементов таблицы</li>
                <li>Отдельная настройка overflow-x: auto, overflow-y: visible</li>
            </ul>
        </li>
    </ol>

    <h2>Логика масштабирования:</h2>
    <ul>
        <li><strong>До 42 этажей:</strong> Статичная высота строки 12px</li>
        <li><strong>43+ этажа:</strong> Динамическое масштабирование с расчетом точной высоты строки</li>
        <li><strong>Минимальная высота строки:</strong> 8px при масштабировании</li>
        <li><strong>Цель:</strong> Все этажи должны поместиться в экран БЕЗ вертикальной прокрутки</li>
    </ul>

    <h2>Тестовые сценарии:</h2>
    <ol>
        <li><strong>Проект с 25 этажами:</strong> Должен использовать высоту строки 12px без масштабирования</li>
        <li><strong>Проект с 42 этажами:</strong> Должен использовать высоту строки 12px без масштабирования</li>
        <li><strong>Проект с 43 этажами:</strong> Должен включить масштабирование и рассчитать высоту строки</li>
        <li><strong>Проект с 62 этажами:</strong> Должен масштабироваться так, чтобы все этажи поместились без прокрутки</li>
    </ol>

    <h2>Ожидаемый результат:</h2>
    <p>При открытии проекта с 62 этажами:</p>
    <ul>
        <li>Высота строки будет автоматически рассчитана исходя из доступного пространства</li>
        <li>Все 62 этажа будут видны одновременно без вертикальной прокрутки</li>
        <li>Горизонтальная прокрутка останется для просмотра всех корпусов</li>
        <li>Размер шрифта автоматически адаптируется под высоту строки</li>
    </ul>

    <script>
        console.log('Файл ProjectCardModal.tsx обновлен с исправлениями масштабирования');
        console.log('Основные изменения:');
        console.log('1. Стандартная высота строки: 12px вместо 20px');
        console.log('2. Точный расчет доступной высоты с учетом всех элементов интерфейса');
        console.log('3. Устранена двойная прокрутка через overflow: hidden на контейнере');
        console.log('4. Улучшены стили для масштабированной таблицы');
    </script>
</body>
</html>