# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞:**
–°—Ç–∏–ª–æ–±–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –¥–≤–∞–∂–¥—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
1. –ö–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞/—Å—Ç—Ä–æ–µ–Ω–∏—è (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
2. –ö–∞–∫ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### 1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–ª–æ–∫–æ–≤ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤
**–í `Projects.tsx` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `handleProjectCardSave`:**
- –í–µ—Ä–Ω—É–ª –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ –¥–ª—è —Å—Ç–∏–ª–æ–±–∞—Ç–∞
- –°—Ç–∏–ª–æ–±–∞—Ç—ã —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∫–∞–∫ –±–ª–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `blocks`, –∏ –∫–∞–∫ —Å–≤—è–∑–∏ –≤ `block_connections_mapping`
- –≠—Ç–∞–∂–∏ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å `type_blocks = '–°—Ç–∏–ª–æ–±–∞—Ç'`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞
**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `loadProjectCardData` –≤ `Projects.tsx`:**
```typescript
const loadProjectCardData = async (projectId: string) => {
  // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–≤—è–∑–∏ –∏–∑ block_connections_mapping
  // 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º ID –±–ª–æ–∫–æ–≤ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ block_floor_mapping
  // 3. –§–∏–ª—å—Ç—Ä—É–µ–º –æ–±—ã—á–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ (–∏—Å–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–æ–±–∞—Ç—ã)
  // 4. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –¥–ª—è UI
  // 5. –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥–∑–µ–º–Ω–æ–π –ø–∞—Ä–∫–æ–≤–∫–∏
}
```

**–õ–æ–≥–∏–∫–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤:**
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±**: —á–µ—Ä–µ–∑ `block_connections_mapping` (—Å–≤—è–∑–∏ —Ç–∏–ø–∞ '–°—Ç–∏–ª–æ–±–∞—Ç')
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±**: —á–µ—Ä–µ–∑ `block_floor_mapping` (—ç—Ç–∞–∂–∏ —Å `type_blocks = '–°—Ç–∏–ª–æ–±–∞—Ç'`)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ProjectCardModal
**–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `ProjectCardModalProps`:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `stylobates` –∏ `undergroundParking` –≤ `projectData`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç–∏–ª–æ–±–∞—Ç–∞—Ö –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–æ–±–∞—Ç—ã –∏ –ø–æ–¥–∑–µ–º–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞
- –î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö —Å—Ç–æ–ª–±—Ü–æ–≤:**
```typescript
// –ù–∞–π–¥–µ–º —Å—Ç–∏–ª–æ–±–∞—Ç –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏
const stylobateBetween = stylobates.find(
  (s) => s.fromBlockId === block.id && s.toBlockId === nextBlock.id,
)

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–æ–±–∞—Ç–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
title: stylobateBetween ? stylobateBetween.name : ''
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
**–í —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:**
- –ó–∞–º–µ–Ω–µ–Ω —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –Ω–∞ –≤—ã–∑–æ–≤ `loadProjectCardData()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –º–µ–∂–¥—É —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ—Ä–ø—É—Å–∞–º–∏

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–æ–µ–∫—Ç–∞"
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `loadProjectCardData(projectId)`
3. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–≤—è–∑–∏ –∏–∑ `block_connections_mapping`
4. –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–ª–æ–∫–∏ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ `block_floor_mapping`
5. –§–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –æ–±—ã—á–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ (–∏—Å–∫–ª—é—á–∞—é—Ç—Å—è —Å—Ç–∏–ª–æ–±–∞—Ç—ã)
6. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤
7. ProjectCardModal –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∏–ª–æ–±–∞—Ç—ã –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏, –∞ –Ω–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–µ–Ω–∏—è

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤
2. –°–æ–∑–¥–∞—é—Ç—Å—è –±–ª–æ–∫–∏ —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ `blocks`
3. –°–æ–∑–¥–∞—é—Ç—Å—è —Å–≤—è–∑–∏ –≤ `block_connections_mapping`
4. –°–æ–∑–¥–∞—é—Ç—Å—è —ç—Ç–∞–∂–∏ —Å `type_blocks = '–°—Ç–∏–ª–æ–±–∞—Ç'`

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤:
- **`block_connections_mapping`**: —Å–≤—è–∑–∏ —Ç–∏–ø–∞ '–°—Ç–∏–ª–æ–±–∞—Ç' –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏
- **`block_floor_mapping`**: —ç—Ç–∞–∂–∏ —Å `type_blocks = '–°—Ç–∏–ª–æ–±–∞—Ç'`
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –æ–±–∞ —Å–ø–æ—Å–æ–±–∞ –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üß™ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç–∏–ª–æ–±–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ—Ä–ø—É—Å–∞–º–∏
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
- ‚úÖ –°—Ç–∏–ª–æ–±–∞—Ç—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∏–ª–æ–±–∞—Ç–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤