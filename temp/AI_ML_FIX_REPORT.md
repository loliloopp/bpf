# üîß –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ AI/ML –†–ï–ñ–ò–ú–ê

**–î–∞—Ç–∞:** 19 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–º AI —Ä–µ–∂–∏–º–µ –≤—Å–µ —Ä–∞–≤–Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª ML –∞–Ω–∞–ª–∏–∑ –≤–º–µ—Å—Ç–æ Deepseek AI
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

## üïµÔ∏è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:
**–ü—Ä–æ–±–ª–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ useQuery** - —Ö—É–∫ `useMLNomenclature` –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ ML/AI –≤ –∫–ª—é—á–µ –∫—ç—à–∞, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–µ–∂–∏–º–æ–º `'local'`.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
1. **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å AI/ML** –≤ ChessboardML –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ localStorage
2. **mlModeApi.setMode()** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–ª –Ω–æ–≤—ã–π —Ä–µ–∂–∏–º
3. **predictNomenclature()** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–ª —Ä–µ–∂–∏–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
4. **–ù–æ useQuery –∫—ç—à–∏—Ä–æ–≤–∞–ª** –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—Ä–∞—à–∏–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### ‚úÖ 1. –û–±–Ω–æ–≤–ª–µ–Ω —Ö—É–∫ `useMLNomenclature`

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ñ–∞–π–ª:** `src/entities/ml/lib/useMLNomenclature.ts`

```typescript
// –ò–º–ø–æ—Ä—Ç mlModeApi –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞
import { mlModeApi } from '@/entities/api-settings'

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–∂–∏–º–∞ ML/AI
const [mlMode, setMLMode] = useState<string>('local')

// –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ ML/AI (–±–µ–∑ –∫—ç—à–∞)
const { data: modeConfig } = useQuery({
  queryKey: ['ml-mode-config'],
  queryFn: () => mlModeApi.getCurrentMode(),
  staleTime: 0, // –í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
  gcTime: 1000, // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ø–∞–º—è—Ç–∏
  refetchOnMount: true, // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
})

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
useEffect(() => {
  if (modeConfig) {
    setMLMode(modeConfig.mode)
    console.log('üîÑ useMLNomenclature: –†–µ–∂–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞', modeConfig.mode)
  }
}, [modeConfig])
```

### ‚úÖ 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–ª—é—á –∫—ç—à–∞

**–ë—ã–ª–æ:**
```typescript
queryKey: ['ml-nomenclature-predictions', currentRequest, config]
```

**–°—Ç–∞–ª–æ:**
```typescript
queryKey: ['ml-nomenclature-predictions', currentRequest, config, mlMode]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞ ML/AI –∫—ç—à —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.

### ‚úÖ 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í useMLNomenclature:**
```typescript
console.log('üîÑ useMLNomenclature: –†–µ–∂–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞', modeConfig.mode)
console.log('üîç DEBUG: –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º ML –≤ useMLNomenclature:', mlMode)
```

**–í ML API:**
```typescript
console.log('üîç DEBUG: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞:', mlModeConfig)
console.log('üîç DEBUG: localStorage ml-mode-config:', localStorage.getItem('ml-mode-config'))
```

### ‚úÖ 4. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ callbacks

**predictNow —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∂–∏–º:**
```typescript
}, [minQueryLength, mlMode]) // –î–æ–±–∞–≤–ª–µ–Ω mlMode –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîÑ –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
   - `useMLNomenclature` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∂–∏–º –∏–∑ localStorage
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `mlMode` –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—É–∫–∞
   - –†–µ–∂–∏–º –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `queryKey` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ AI/ML:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –≤ ChessboardML
   - `mlModeApi.setMode()` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage
   - `useQuery(['ml-mode-config'])` –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
   - `useEffect` –æ–±–Ω–æ–≤–ª—è–µ—Ç `mlMode` –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
   - –ù–æ–≤—ã–π `mlMode` –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `queryKey` –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫—ç—à

3. **–í—ã–∑–æ–≤ –∞–Ω–∞–ª–∏–∑–∞:**
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `predictNow`
   - `useQuery` –≤—ã–ø–æ–ª–Ω—è–µ—Ç `predictNomenclature` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º –∫—ç—à–∞
   - `predictNomenclature` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∂–∏–º —á–µ—Ä–µ–∑ `mlModeApi.getCurrentMode()`
   - **–¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ** –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è AI –∏–ª–∏ ML —Ä–µ–∂–∏–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **–û—Ç–∫—Ä—ã—Ç—å:** http://localhost:5180/experiments/chessboard-ml
2. **–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ø–æ–∑–∏—Ü–∏–∏ "ML"** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
3. **–í–≤–µ—Å—Ç–∏ –º–∞—Ç–µ—Ä–∏–∞–ª** (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ë–µ—Ç–æ–Ω –ú300")
4. **–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞"**
5. **–í –∫–æ–Ω—Å–æ–ª–∏ —É–≤–∏–¥–µ—Ç—å:** `üîÑ ML Prediction: –†–µ–∂–∏–º local`
6. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ "AI"** –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
7. **–°–Ω–æ–≤–∞ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞"**
8. **–í –∫–æ–Ω—Å–æ–ª–∏ —É–≤–∏–¥–µ—Ç—å:** `üîÑ ML Prediction: –†–µ–∂–∏–º deepseek`

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- ‚úÖ –ü—Ä–∏ —Ä–µ–∂–∏–º–µ ML: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
- ‚úÖ –ü—Ä–∏ —Ä–µ–∂–∏–º–µ AI: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Deepseek —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–∏—Å–∫–æ–º
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ –ö—ç—à —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ React Query –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ ML/AI

**–†–µ—à–µ–Ω–∏–µ:** –í–∫–ª—é—á–µ–Ω–∏–µ `mlMode` –≤ `queryKey` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- –û—Ç–∫–ª—é—á–µ–Ω –∫—ç—à –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ä–µ–∂–∏–º–∞ (`staleTime: 0`)
- –î–æ–±–∞–≤–ª–µ–Ω `refetchOnMount: true` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ callback'–∞—Ö

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–º AI —Ä–µ–∂–∏–º–µ:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Deepseek AI –∞–Ω–∞–ª–∏–∑
- ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–∏—Å–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å —Ü–µ–Ω–∞–º–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º
- ‚úÖ Tooltip –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚úÖ Fallback –Ω–∞ ML –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö AI

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞! üéâ**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—é—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ—Ç –∞–Ω–∞–ª–∏–∑, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞–ª–∏ –≤ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ - AI (Deepseek) –∏–ª–∏ ML (–ª–æ–∫–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º).