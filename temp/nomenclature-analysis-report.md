# –ê–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü—ã nomenclature –≤ Supabase –ë–î

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. ‚úÖ –¢–∞–±–ª–∏—Ü–∞ nomenclature —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `public.nomenclature`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  ```sql
  CREATE TABLE public.nomenclature (
      id uuid DEFAULT gen_random_uuid() NOT NULL,
      name text NOT NULL,
      created_at timestamp with time zone DEFAULT now(),
      updated_at timestamp with time zone DEFAULT now()
  );
  ```

### 2. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å "–ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª" –Ω–∞–π–¥–µ–Ω—ã
–í —Å—Ö–µ–º–µ –ë–î –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∑–∞–ø–∏—Å–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ "–ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª":

**–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π:**
- `–ü–µ–Ω–æ–ø–ª–∞—Å—Ç –ü–üC 20 (–ü–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª) 2000—Ö1000—Ö100 –º–º (–º3)`
- `–ü–ª–∏–Ω—Ç—É—Å –ø–æ—Ç–æ–ª–æ—á–Ω—ã–π –ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª (–º)`
- `–ü–µ–Ω–æ–ø–ª–∞—Å—Ç –ü–°–ë–° 35 (–ü–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª) 1000—Ö1000—Ö50 –º–º (–º3)`
- `–ü–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª —ç–∫—Å—Ç—Ä—É–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Ursa XPS N-III-L 1180—Ö600—Ö100 (–º3)`
- `–ü–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª —ç–∫—Å—Ç—Ä—É–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URSA XPS N-III-G4-L pro 1180—Ö600—Ö50 (–º3)`
- –ò –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ –ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª–∞

### 3. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å "—Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏—è" –Ω–∞–π–¥–µ–Ω—ã
–í —Å—Ö–µ–º–µ –ë–î –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∑–∞–ø–∏—Å–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ "—Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏—è":

**–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π:**
- `–ö–ª–µ–π (—Å—É—Ö–∞—è —Å–º–µ—Å—å) –¥–ª—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ "–û—Å–Ω–æ–≤–∏—Ç –ö–∞–≤–µ—Ä–ø–ª–∏–∫—Å –¢-117" (–∫–≥)`
- `–ö–ª–µ–π (—Å—É—Ö–∞—è —Å–º–µ—Å—å) –¥–ª—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ "–û—Å–Ω–æ–≤–∏—Ç –ö–∞–≤–µ—Ä–ø–ª–∏–∫—Å AC-117" (–∫–≥)`
- `–°–º–µ—Å—å –∞—Ä–º–∏—Ä—É—é—â–µ-–∫–ª–µ–µ–≤–∞—è –¥–ª—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ Weber.therm S100 (–∫–≥)`
- `–ö–ª–µ–π (—Å—É—Ö–∞—è —Å–º–µ—Å—å) –¥–ª—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ "Perfekta –¢–µ—Ä–º–æ—Ç–µ–∫" (–∫–≥)`
- `–ö–ª–µ–π (—Å—É—Ö–∞—è —Å–º–µ—Å—å) –¥–ª—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ "LitoTherm Cotlage" (–∫–≥)`
- `–®–∞–π–±–∞ –¥–ª—è –∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–∏ (—Ä–æ–Ω–¥–æ–ª—å) 60–º–º (—à—Ç)`
- `–¶–∏–ª–∏–Ω–¥—Ä—ã —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ BOS PIPE` (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
- `–ü–ª–∏—Ç–∞ —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω–∞—è Logicpir –¢–µ—Ö–Ω–æ–Ω–∏–∫–æ–ª—å (–º3)`
- `–¢–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏—è –∂–∏–¥–∫–∞—è –ö–æ—Ä—É–Ω–¥ –ö–ª–∞—Å—Å–∏–∫ (–ª)`
- `–¢–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏—è Usystems 4 –º–º (–º2)`

### 4. üîß –ê–Ω–∞–ª–∏–∑ ML –ø–æ–∏—Å–∫–∞

#### ML API –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª**: `src/entities/ml/api/ml-api.ts`
- **–•—É–∫**: `src/entities/ml/lib/useMLNomenclature.ts`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/entities/ml/lib/MLNomenclatureSelect.tsx`

#### –õ–æ–≥–∏–∫–∞ ML –ø–æ–∏—Å–∫–∞:
1. **–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫**: `supabase.from('nomenclature').select('id, name').ilike('name', '%{searchTerm}%')`
2. **–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å—Ö–æ–¥—Å—Ç–≤–∞**: Levenshtein distance + –±–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏**: strict/balanced/fuzzy —Ä–µ–∂–∏–º—ã
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø–æ confidence threshold (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.3)

#### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º —Å ML –ø–æ–∏—Å–∫–æ–º:

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞**:
   ```typescript
   // –í getMLConfig()
   enabled: true,  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É
   confidenceThreshold: 0.3,
   ```

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º**:
   ```typescript
   // –í supabase.ts
   export const supabase: SupabaseClient | undefined = url && key ? createClient(url, key) : undefined
   ```

3. **–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**:
   - –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ (2 —Å–∏–º–≤–æ–ª–∞)
   - Threshold confidence –º–æ–∂–µ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

4. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**:
   - –ú–Ω–æ–≥–æ console.log –≤ –∫–æ–¥–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### 5. üß™ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**:
   ```
   file:///C:/Users/postoev.e.v/WebstormProjects/blueprintflow/temp/test-nomenclature-search.html
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏**:
   - –õ–æ–≥–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –û—à–∏–±–∫–∏ ML –∞–Ω–∞–ª–∏–∑–∞

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ML**:
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   const mlConfig = JSON.parse(localStorage.getItem('ml-config') || '{}')
   console.log('ML Config:', mlConfig)
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ ML**:
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   const mlMetrics = JSON.parse(localStorage.getItem('ml-metrics') || '{}')
   console.log('ML Metrics:', mlMetrics)
   ```

### 6. üêõ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞** - –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ schema
2. **Supabase RLS (Row Level Security)** - –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å .env.local
4. **ML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage
5. **–°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π confidence threshold** - —Å–Ω–∏–∑–∏—Ç—å –¥–æ 0.1 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
6. **–ü—Ä–æ–±–ª–µ–º—ã —Å –æ—á–∏—Å—Ç–∫–æ–π –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞** - —Ñ—É–Ω–∫—Ü–∏—è `cleanTermForMatching` –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –≤–∞–∂–Ω—ã–µ —á–∞—Å—Ç–∏

### 7. ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ML –ø–æ–∏—Å–∫–∞
3. –í—Ä–µ–º–µ–Ω–Ω–æ —Å–Ω–∏–∑–∏—Ç—å confidence threshold –¥–æ 0.1
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ML
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–∏–ø–∞ "–ø–µ–Ω–æ" –∏–ª–∏ "—Ç–µ–ø–ª–æ"

### 8. üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π —Å "–ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª"**: ~50+ –∑–∞–ø–∏—Å–µ–π
- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π —Å "—Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü"**: ~100+ –∑–∞–ø–∏—Å–µ–π
- **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤**: –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- **–§–æ—Ä–º–∞—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π**: –≤–∫–ª—é—á–∞—é—Ç —Ä–∞–∑–º–µ—Ä—ã, –º–∞—Ä–∫–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–∞–±–ª–∏—Ü–∞ `nomenclature` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—à–∏—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º, –≤–∫–ª—é—á–∞—è –ø–µ–Ω–æ–ø–æ–ª–∏—Å—Ç–∏—Ä–æ–ª. –ü—Ä–æ–±–ª–µ–º–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –ª–æ–≥–∏–∫–µ ML –ø–æ–∏—Å–∫–∞, –∞ –Ω–µ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î.