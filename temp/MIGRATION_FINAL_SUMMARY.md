# –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ –º–∏–≥—Ä–∞—Ü–∏–∏ detail_cost_categories

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. SQL –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ç—Ä–æ–π–Ω–æ–π —Å–≤—è–∑—å—é (detail_cost_categories_mapping)
- ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ: 172 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≤–∏–¥–∞ –∑–∞—Ç—Ä–∞—Ç, 218 —Ç—Ä–æ–π–Ω—ã—Ö —Å–≤—è–∑–µ–π
- ‚úÖ –°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∫–∞–∫ detail_cost_categories_old

### 2. TypeScript –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–°—Ç—Ä–∞–Ω–∏—Ü–∞: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—Ç—Ä–∞—Ç (`src/pages/references/CostCategories.tsx`)**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (DetailCategory, DetailCategoryRowDB)
- ‚úÖ API –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç detail_cost_categories_mapping
- ‚úÖ –õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –¥–≤—É—Ö—à–∞–≥–æ–≤–∞—è (–Ω–∞–π—Ç–∏/—Å–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å ‚Üí —Å–æ–∑–¥–∞—Ç—å —Å–≤—è–∑–∏)
- ‚úÖ Excel –∏–º–ø–æ—Ä—Ç: –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏
- ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã (TypeScript + ESLint)

**–§–∏–ª—å—Ç—Ä—ã –≤ –®–∞—Ö–º–∞—Ç–∫–µ (`src/pages/documents/Chessboard/components/ChessboardFilters.tsx`)**
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤–∏–¥–æ–≤ –∑–∞—Ç—Ä–∞—Ç: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç detail_cost_categories_mapping
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≤–∏–¥–æ–≤

**–¢–∞–±–ª–∏—Ü–∞ –®–∞—Ö–º–∞—Ç–∫–∏ (`src/pages/documents/Chessboard/components/ChessboardTable.tsx`)**
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –∑–∞–ø—Ä–æ—Å allCostTypesData: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ø–ø–∏–Ω–≥
- ‚úÖ **–ù–û–í–û–ï**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç
  - –ó–∞–≥—Ä—É–∑–∫–∞ detail_cost_categories_mapping
  - –§—É–Ω–∫—Ü–∏—è getAvailableLocations(categoryId, costTypeId)
  - –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏—è/–≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç
- ‚úÖ **–ù–û–í–û–ï**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç
  - –û–±–Ω–æ–≤–ª—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WorkSetSelect —Å –ø–æ–ª–µ–º categoryId
  - WorkSet –æ—Ç–∫–ª—é—á—ë–Ω –µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏—è/–≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç rates_detail_cost_categories_mapping –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤ (`src/pages/documents/ChessboardSetsModal.tsx`)**
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –∑–∞–ø—Ä–æ—Å costTypes: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ø–ø–∏–Ω–≥

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Foreign Keys

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ detail_cost_categories_old –≤–º–µ—Å—Ç–æ detail_cost_categories

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ `chessboard_mapping.cost_type_id` ‚Üí detail_cost_categories
- ‚úÖ `rates_detail_cost_categories_mapping.detail_cost_category_id` ‚Üí detail_cost_categories
- ‚úÖ `type_calculation_work_mapping.detail_cost_category_id` ‚Üí detail_cost_categories

**–°–∫—Ä–∏–ø—Ç—ã:**
- `sql/check_chessboard_fkey.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ FK –≤ chessboard_mapping
- `sql/find_all_detail_cost_categories_fkeys.sql` - –ø–æ–∏—Å–∫ –≤—Å–µ—Ö FK
- `sql/fix_all_detail_cost_categories_fkeys.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö FK

## üéØ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π –≤ –®–∞—Ö–º–∞—Ç–∫–µ

**–î–æ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
Location = –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
```

**–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
Location = —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ (Category + CostType)
  ‚Üì
detail_cost_categories_mapping WHERE
  cost_category_id = selected_category AND
  detail_cost_category_id = selected_cost_type
  ‚Üì
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ location –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ **–Ω–µ –≤—ã–±—Ä–∞–Ω—ã** –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–ª–∏ –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç ‚Üí Location disabled —Å placeholder "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –≤–∏–¥"
- –ï—Å–ª–∏ **–≤—ã–±—Ä–∞–Ω—ã** –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –≤–∏–¥ ‚Üí Location –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–≤–∏–¥–∞ ‚Üí Location –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

### 2. –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –≤ –®–∞—Ö–º–∞—Ç–∫–µ

**–î–æ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
WorkSet = –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –≤–∏–¥–∞ –∑–∞—Ç—Ä–∞—Ç
```

**–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
WorkSet = —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ (Category + CostType)
  ‚Üì
rates_detail_cost_categories_mapping WHERE
  cost_category_id = selected_category AND
  detail_cost_category_id = selected_cost_type
  ‚Üì
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ work_set –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —Ä–∞—Å—Ü–µ–Ω–æ–∫
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ **–Ω–µ –≤—ã–±—Ä–∞–Ω—ã** –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–ª–∏ –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç ‚Üí WorkSet disabled —Å notFoundContent "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç"
- –ï—Å–ª–∏ **–≤—ã–±—Ä–∞–Ω—ã** –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –≤–∏–¥ ‚Üí WorkSet –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —Ä–∞—Å—Ü–µ–Ω–æ–∫
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–≤–∏–¥–∞ ‚Üí WorkSet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–®–∞—Ö–º–∞—Ç–∫–∞** (`/documents/chessboard`)
   - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –æ—à–∏–±–æ–∫ 400
   - ‚úÖ –§–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏—è/–≤–∏–¥ —Ä–∞–±–æ—Ç–∞—é—Ç
   - üîÑ –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –≤—ã–±—Ä–∞—Ç—å –≤–∏–¥ ‚Üí –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è
   - üîÑ –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏: –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –≤—ã–±—Ä–∞—Ç—å –≤–∏–¥ ‚Üí –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è
   - üîÑ –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –≤—ã–±—Ä–∞—Ç—å –≤–∏–¥ ‚Üí —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è
   - üîÑ –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏: –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –≤—ã–±—Ä–∞—Ç—å –≤–∏–¥ ‚Üí —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è

2. **–†–∞—Å—á–µ—Ç –ø–æ —Ç–∏–ø–∞–º** (`/documents/type-calculation`)
   - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –æ—à–∏–±–æ–∫ 400
   - üîÑ –í–∏–¥—ã –∑–∞—Ç—Ä–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—Ç—Ä–∞—Ç** (`/references/cost-categories`)
   - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –æ—à–∏–±–æ–∫
   - üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–∞ –∑–∞—Ç—Ä–∞—Ç
   - üîÑ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
   - üîÑ –£–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–∞ –∑–∞—Ç—Ä–∞—Ç

### –û—á–∏—Å—Ç–∫–∞ (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é —Ç–∞–±–ª–∏—Ü—É:**
```sql
DROP TABLE IF EXISTS detail_cost_categories_old CASCADE;
```

**–£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã (–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
# sql/check_*.sql
# sql/find_*.sql

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
# sql/fix_*.sql

# –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
rm temp/MIGRATION_ERROR_DUPLICATES.md
rm temp/READY_TO_EXECUTE_STEP3.md
rm temp/UPDATED_CODE_SNIPPETS.tsx
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–æ:**
```
detail_cost_categories: 218 –∑–∞–ø–∏—Å–µ–π —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
  ‚îú‚îÄ‚îÄ cost_category_id
  ‚îî‚îÄ‚îÄ location_id
```

**–ü–æ—Å–ª–µ:**
```
detail_cost_categories: 172 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–∏
  ‚îú‚îÄ‚îÄ UNIQUE(name)
  ‚îî‚îÄ‚îÄ –ë–ï–ó cost_category_id –∏ location_id

detail_cost_categories_mapping: 218 —Ç—Ä–æ–π–Ω—ã—Ö —Å–≤—è–∑–µ–π
  ‚îú‚îÄ‚îÄ cost_category_id
  ‚îú‚îÄ‚îÄ detail_cost_category_id
  ‚îî‚îÄ‚îÄ location_id
  PRIMARY KEY (cost_category_id, detail_cost_category_id, location_id)
```

### TypeScript

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å DetailCategory:**
```typescript
// –î–æ
interface DetailCategory {
  costCategoryId: number
  locations: Array<{ id: number; name: string }>
}

// –ü–æ—Å–ª–µ
interface DetailCategory {
  mappings: Array<{
    costCategoryId: number
    costCategoryName: string
    locationId: number
    locationName: string
  }>
}
```

## üîß –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞** - UNIQUE(name) —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –æ–¥–∏–Ω –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö
‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 3NF, –Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–≤—è–∑–∏
‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - FK constraints —Å CASCADE
‚úÖ **–ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ª–æ–∫–∞—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + –≤–∏–¥ –∑–∞—Ç—Ä–∞—Ç

## üìÖ –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**2025-10-05**

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –∫–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π –∏ —Ä–∞–±–æ—á–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –≥–æ—Ç–æ–≤–∞ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è –ë–î (—Ç—Ä–æ–π–Ω–∞—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ detail_cost_categories_mapping)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö foreign keys –Ω–∞ detail_cost_categories
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö TypeScript –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–§–∏–ª—å—Ç—Ä—ã, –¢–∞–±–ª–∏—Ü–∞, –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –õ–æ–∫–∞—Ü–∏–π –ø–æ (–ö–∞—Ç–µ–≥–æ—Ä–∏—è + –í–∏–¥ –∑–∞—Ç—Ä–∞—Ç)
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –†–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø–æ (–ö–∞—Ç–µ–≥–æ—Ä–∏—è + –í–∏–¥ –∑–∞—Ç—Ä–∞—Ç)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤

**–û—Å—Ç–∞–ª–æ—Å—å:**
- üîÑ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- üîÑ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã detail_cost_categories_old –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
